<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRBP Employment Change Guidance Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header-section h1 {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .header-section p {
            font-size: 1.2rem;
            color: #64748b;
            max-width: 800px;
            margin: 0 auto;
        }

        .main-dashboard {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            align-items: start;
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 20px;
        }

        .control-panel h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 25px;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-panel h2::before {
            content: "‚öôÔ∏è";
            font-size: 1.2rem;
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-section label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
            font-size: 0.95rem;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .change-types-container {
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            background: #f8fafc;
        }

        .change-type-option {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px;
            margin-bottom: 8px;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #e2e8f0;
        }

        .change-type-option:hover {
            background: #f1f5f9;
            border-color: #667eea;
        }

        .change-type-option.selected {
            background: #eff6ff;
            border-color: #667eea;
            box-shadow: 0 2px 4px rgba(102, 126, 234, 0.1);
        }

        .change-type-checkbox {
            margin-top: 2px;
        }

        .change-type-label {
            font-size: 0.9rem;
            color: #374151;
            line-height: 1.4;
            flex: 1;
        }

        .impact-counter {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .counter-btn {
            width: 35px;
            height: 35px;
            border: none;
            background: #667eea;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .counter-btn:hover {
            background: #5a67d8;
        }

        .counter-display {
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            color: #1e293b;
        }

        .generate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        .results-header {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
        }

        .results-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .results-header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .results-content {
            padding: 30px;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }

        .summary-card h3 {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .summary-card .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
        }

        .risk-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .risk-low {
            background: #dcfce7;
            color: #166534;
        }

        .risk-medium {
            background: #fef3c7;
            color: #92400e;
        }

        .risk-high {
            background: #fee2e2;
            color: #991b1b;
        }

        .guidance-section {
            background: white;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }

        .guidance-header {
            background: #f8fafc;
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .guidance-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1e293b;
        }

        .guidance-content {
            padding: 25px;
        }

        .guidance-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab-button {
            padding: 10px 16px;
            background: none;
            border: none;
            font-size: 0.9rem;
            font-weight: 500;
            color: #64748b;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .process-timeline {
            position: relative;
            padding-left: 30px;
        }

        .process-timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -41px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #667eea;
            border-radius: 50%;
            border: 3px solid white;
        }

        .alert-box {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid;
        }

        .alert-warning {
            background: #fffbeb;
            border-color: #f59e0b;
            color: #92400e;
        }

        .alert-info {
            background: #eff6ff;
            border-color: #3b82f6;
            color: #1e40af;
        }

        .alert-success {
            background: #f0fdf4;
            border-color: #10b981;
            color: #047857;
        }

        .documentation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .doc-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .doc-item::before {
            content: "üìÑ";
            font-size: 1.2rem;
            margin-top: 2px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #64748b;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .change-type-badge {
            display: inline-block;
            background: #eff6ff;
            color: #1e40af;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin: 2px;
            border: 1px solid #bfdbfe;
        }

        @media (max-width: 1200px) {
            .main-dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .control-panel {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .header-section h1 {
                font-size: 2rem;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
            }
            
            .documentation-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header-section">
            <h1>HRBP Employment Change Guidance Platform</h1>
            <p>Comprehensive legal guidance and compliance assessment for employment changes in the USA. Configure your change scenario and receive detailed, actionable guidance.</p>
        </div>

        <div class="main-dashboard">
            <div class="control-panel">
                <h2>Configuration Panel</h2>
                
                <div class="form-section">
                    <label for="countrySelect">Jurisdiction:</label>
                    <select id="countrySelect" class="form-input">
                        <option value="USA">United States of America</option>
                    </select>
                </div>

                <div class="form-section">
                    <label for="associateCount">Number of Associates Impacted:</label>
                    <div class="impact-counter">
                        <input type="number" id="associateCount" class="form-input" value="1" min="1" max="10000">
                        <div>
                            <button type="button" class="counter-btn" onclick="adjustCount(1)">+</button>
                            <button type="button" class="counter-btn" onclick="adjustCount(-1)">‚àí</button>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <label>Change Types (Select one or more):</label>
                    <div class="change-types-container" id="changeTypesContainer">
                        <!-- Change types will be populated here -->
                    </div>
                </div>

                <button type="button" class="generate-btn" id="generateBtn" onclick="generateGuidance()">
                    Generate Guidance Report
                </button>
            </div>

            <div class="results-container">
                <div class="results-header">
                    <h2>Employment Change Guidance Report</h2>
                    <p>Detailed analysis and recommendations for your employment change scenario</p>
                </div>
                <div class="results-content" id="resultsContent">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìä</div>
                        <h3>Ready to Generate Your Guidance Report</h3>
                        <p>Select the change types and number of associates impacted, then click "Generate Guidance Report" to receive comprehensive legal and compliance guidance.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Enhanced employment changes data
        const employmentChanges = [
            {
                type: "Manager or Reporting Line Change",
                riskLevel: "Low",
                icon: "üë•",
                guidance: {
                    canProceed: true,
                    partner: "HRBP + Business",
                    considerations: "Consult with OE if tied to reorg, role appointment, or overlaps with other changes.",
                    process: [
                        "Manager submits Workday manager change request",
                        "Use bulk upload for large numbers of changes",
                        "Inform associate of reporting changes"
                    ],
                    approvalsRequired: [],
                    contact: "OE Consultant",
                    slaDays: 2,
                    legalConsiderations: "Generally low legal risk. Ensure change doesn't materially alter employee's core job functions or compensation.",
                    complianceBestPractices: [
                        "Document business rationale for the change",
                        "Ensure consistent application across similar roles",
                        "Communicate changes clearly to affected employees",
                        "Monitor for potential discrimination patterns"
                    ],
                    documentationRequired: [
                        "Written notification to employee",
                        "Business justification documentation",
                        "Updated organizational charts",
                        "Employee acknowledgment (recommended)"
                    ]
                }
            },
            {
                type: "Promotion or Job Grade Increase ‚Äì Linked to Organizational Transformation",
                riskLevel: "Low",
                icon: "üìà",
                guidance: {
                    canProceed: true,
                    partner: "HRBP + Business",
                    considerations: "Consult with OE if tied to role appointment or overlaps with other changes. No consultation if the job was posted.",
                    process: [
                        "Manager submits Workday job change request",
                        "Use bulk upload for large numbers of changes",
                        "Inform associate of promotion details"
                    ],
                    approvalsRequired: [],
                    contact: "OE Consultant",
                    slaDays: 2,
                    legalConsiderations: "Low legal risk for promotions. Ensure promotional criteria are objective and non-discriminatory. Consider FLSA exempt/non-exempt status changes.",
                    complianceBestPractices: [
                        "Maintain consistent promotion criteria",
                        "Document selection rationale thoroughly",
                        "Ensure equal opportunity compliance",
                        "Update job descriptions and compensation records promptly"
                    ],
                    documentationRequired: [
                        "Promotion letter with new terms",
                        "Updated job description",
                        "Compensation change documentation",
                        "Performance review justification"
                    ]
                }
            },
            {
                type: "Job Grade Reduction ‚Äì Demotion",
                riskLevel: "Medium",
                icon: "üìâ",
                guidance: {
                    canProceed: false,
                    partner: "HRBP + Compensation + Immigration",
                    considerations: "Consent not required. May impact visa or green card processes. Provide advance notice to GPR if ER complaints increase.",
                    process: [
                        "Initiate Compensation and Immigration approvals",
                        "Conduct thorough legal review",
                        "Prepare comprehensive documentation"
                    ],
                    approvalsRequired: ["Compensation", "Immigration"],
                    contact: "Compensation Consultant",
                    slaDays: 10,
                    legalConsiderations: "High risk of constructive dismissal claims. Must follow due process. Cannot be discriminatory or retaliatory. Requires legitimate business justification or performance-based reasons.",
                    complianceBestPractices: [
                        "Document performance issues thoroughly over time",
                        "Follow progressive discipline procedures",
                        "Ensure demotion is proportionate to issues",
                        "Provide opportunity for employee response",
                        "Consider alternative solutions first",
                        "Maintain confidentiality during process"
                    ],
                    documentationRequired: [
                        "Performance improvement plan history",
                        "Progressive discipline documentation",
                        "Demotion justification memo with witness signatures",
                        "Employee acknowledgment forms",
                        "Compensation adjustment notices",
                        "State wage notice compliance",
                        "Immigration status impact assessment"
                    ]
                }
            },
            {
                type: "Change Manager Role to Individual Contributor",
                riskLevel: "High",
                icon: "üîÑ",
                guidance: {
                    canProceed: false,
                    partner: "HRBP + Compensation + Immigration",
                    considerations: "Compensation and immigration approvals required. May impact visa/green card processes. For headcount reductions, follow involuntary RIF guidance.",
                    process: [
                        "Initiate Compensation and Immigration approvals",
                        "Conduct comprehensive legal review",
                        "Develop transition plan"
                    ],
                    approvalsRequired: ["Compensation", "Immigration"],
                    contact: "Compensation Consultant",
                    slaDays: 14,
                    legalConsiderations: "Very high risk of constructive dismissal. May trigger WARN Act notice requirements if part of larger workforce reduction. Must ensure process is not discriminatory or retaliatory.",
                    complianceBestPractices: [
                        "Conduct thorough legal review before proceeding",
                        "Document substantial business justification",
                        "Consider offering voluntary separation package",
                        "Ensure compliance with WARN Act if applicable",
                        "Provide maximum possible advance notice",
                        "Maintain detailed process documentation"
                    ],
                    documentationRequired: [
                        "Comprehensive legal review",
                        "Business restructuring justification",
                        "WARN Act compliance assessment",
                        "Performance review history",
                        "Alternative consideration documentation",
                        "Employee meeting minutes"
                    ]
                }
            },
            {
                type: "Involuntary Reduction in Force (RIF)",
                riskLevel: "High",
                icon: "‚ö†Ô∏è",
                guidance: {
                    canProceed: false,
                    partner: "HRBP + Compliance + GPR + Multiple People COEs",
                    considerations: "Requires significant legal and compliance oversight. Consent not required.",
                    process: [
                        "Build comprehensive business case",
                        "Submit compliance ticket",
                        "Initiate WARN Act procedures"
                    ],
                    approvalsRequired: ["Compensation", "Benefits", "Compliance", "GPR"],
                    contact: "Compliance Partner",
                    slaDays: 30,
                    legalConsiderations: "Must comply with WARN Act, ADEA, and other federal/state laws. High risk of discrimination claims. Requires careful selection criteria and documentation.",
                    complianceBestPractices: [
                        "Conduct thorough legal review with counsel",
                        "Develop objective, non-discriminatory selection criteria",
                        "Provide WARN Act notices if required (60 days)",
                        "Offer severance packages consistently",
                        "Consider bumping rights and seniority systems",
                        "Maintain confidentiality until announcements"
                    ],
                    documentationRequired: [
                        "Comprehensive legal compliance review",
                        "WARN Act notice filings",
                        "Selection criteria and rationale documentation",
                        "Severance agreement templates",
                        "Benefits continuation information",
                        "Outplacement services arrangements"
                    ]
                }
            },
            {
                type: "Change Associate's Work Location",
                riskLevel: "High",
                icon: "üìç",
                guidance: {
                    canProceed: false,
                    partner: "HRBP + Compliance + GPR + Multiple People COEs",
                    considerations: "May trigger separation or severance. Consent not required.",
                    process: [
                        "Build business case",
                        "Submit compliance ticket",
                        "Assess relocation requirements"
                    ],
                    approvalsRequired: ["Compensation", "Benefits", "Compliance", "GPR"],
                    contact: "Compliance Partner",
                    slaDays: 20,
                    legalConsiderations: "Location changes may constitute constructive dismissal if unreasonable. Must consider state-specific employment laws, relocation assistance, and potential WARN Act implications.",
                    complianceBestPractices: [
                        "Provide maximum advance notice (60-90 days minimum)",
                        "Offer relocation assistance package",
                        "Consider remote work alternatives",
                        "Assess impact on employee's family situation",
                        "Document legitimate business necessity",
                        "Comply with multi-state employment law requirements"
                    ],
                    documentationRequired: [
                        "Business justification for relocation",
                        "Cost-benefit analysis of alternatives",
                        "Relocation assistance package details",
                        "Employee consultation documentation",
                        "State employment law compliance review"
                    ]
                }
            }
        ];

        let selectedChangeTypes = new Set();

        function initializeApp() {
            populateChangeTypes();
            updateGenerateButton();
        }

        function populateChangeTypes() {
            const container = document.getElementById('changeTypesContainer');
            container.innerHTML = '';
            
            employmentChanges.forEach((change, index) => {
                const option = document.createElement('div');
                option.className = 'change-type-option';
                option.onclick = () => toggleChangeType(change.type, option);
                
                option.innerHTML = `
                    <input type="checkbox" class="change-type-checkbox" id="change-${index}">
                    <div class="change-type-label">
                        <strong>${change.icon} ${change.type}</strong>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 4px;">
                            Risk: ${change.riskLevel} | SLA: ${change.guidance.slaDays} days
                        </div>
                    </div>
                `;
                
                container.appendChild(option);
            });
        }

        function toggleChangeType(changeType, element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            
            if (selectedChangeTypes.has(changeType)) {
                selectedChangeTypes.delete(changeType);
                element.classList.remove('selected');
                checkbox.checked = false;
            } else {
                selectedChangeTypes.add(changeType);
                element.classList.add('selected');
                checkbox.checked = true;
            }
            
            updateGenerateButton();
        }

        function adjustCount(delta) {
            const input = document.getElementById('associateCount');
            const currentValue = parseInt(input.value) || 1;
            const newValue = Math.max(1, Math.min(10000, currentValue + delta));
            input.value = newValue;
        }

        function updateGenerateButton() {
            const btn = document.getElementById('generateBtn');
            btn.disabled = selectedChangeTypes.size === 0;
        }

        function generateGuidance() {
            if (selectedChangeTypes.size === 0) return;
            
            const associateCount = parseInt(document.getElementById('associateCount').value) || 1;
            const selectedChanges = Array.from(selectedChangeTypes).map(type => 
                employmentChanges.find(change => change.type === type)
            );
            
            displayGuidanceReport(selectedChanges, associateCount);
        }

        function displayGuidanceReport(changes, associateCount) {
            const resultsContent = document.getElementById('resultsContent');
            
            // Determine overall risk level
            const riskLevels = changes.map(c => c.riskLevel);
            let overallRisk = 'Low';
            if (riskLevels.includes('High')) overallRisk = 'High';
            else if (riskLevels.includes('Medium')) overallRisk = 'Medium';
            
            // Determine if can proceed
            const canProceed = changes.every(c => c.guidance.canProceed);
            
            // Calculate maximum SLA
            const maxSLA = Math.max(...changes.map(c => c.guidance.slaDays));
            
            // Get all required approvals
            const allApprovals = [...new Set(changes.flatMap(c => c.guidance.approvalsRequired))];
            
            // Check for special considerations
            const needsWARN = associateCount >= 50 || changes.some(c => c.type.includes('RIF'));
            const needsImmigration = changes.some(c => c.guidance.approvalsRequired.includes('Immigration'));
            
            resultsContent.innerHTML = `
                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>Associates Impacted</h3>
                        <div class="value">${associateCount.toLocaleString()}</div>
                    </div>
                    <div class="summary-card">
                        <h3>Change Types Selected</h3>
                        <div class="value">${changes.length}</div>
                    </div>
                    <div class="summary-card">
                        <h3>Overall Risk Level</h3>
                        <div class="value">
                            <span class="risk-indicator risk-${overallRisk.toLowerCase()}">${overallRisk}</span>
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Can Proceed</h3>
                        <div class="value" style="color: ${canProceed ? '#059669' : '#dc2626'}">
                            ${canProceed ? 'Yes' : 'No'}
                        </div>
                    </div>
                    <div class="summary-card">
                        <h3>Maximum SLA</h3>
                        <div class="value">${maxSLA} days</div>
                    </div>
                    <div class="summary-card">
                        <h3>Approvals Required</h3>
                        <div class="value">${allApprovals.length || 'None'}</div>
                    </div>
                </div>

                ${!canProceed ? `
                <div class="alert-box alert-warning">
                    <h3>‚ö†Ô∏è Approval Required</h3>
                    <p>This employment change scenario cannot proceed without proper approvals. Review the detailed guidance below and obtain all required approvals before implementation.</p>
                </div>
                ` : ''}

                ${needsWARN ? `
                <div class="alert-box alert-warning">
                    <h3>üìã WARN Act Consideration</h3>
                    <p><strong>Important:</strong> With ${associateCount} associates impacted, you may need to comply with Worker Adjustment and Retraining Notification (WARN) Act requirements. This typically requires 60 days advance notice for qualifying events.</p>
                </div>
                ` : ''}

                ${needsImmigration ? `
                <div class="alert-box alert-info">
                    <h3>üåê Immigration Impact Alert</h3>
                    <p>This change may affect employees with visa status (H-1B, L-1, etc.). Immigration legal review is required to assess impact on work authorization and green card processes.</p>
                </div>
                ` : ''}

                <div class="guidance-section">
                    <div class="guidance-header">
                        <span style="font-size: 1.5rem;">üìã</span>
                        <h3>Executive Summary</h3>
                    </div>
                    <div class="guidance-content">
                        <p><strong>Scenario Overview:</strong> You are planning to implement ${changes.length} type(s) of employment changes affecting ${associateCount} associate(s). The overall risk assessment is <span class="risk-indicator risk-${overallRisk.toLowerCase()}">${overallRisk}</span>.</p>
                        
                        <div style="margin: 20px 0;">
                            <strong>Selected Change Types:</strong><br>
                            ${changes.map(c => `<span class="change-type-badge">${c.icon} ${c.type}</span>`).join('')}
                        </div>

                        ${allApprovals.length > 0 ? `
                        <p><strong>Required Approvals:</strong> ${allApprovals.join(', ')}</p>
                        ` : ''}
                        
                        <p><strong>Recommended Next Steps:</strong> ${canProceed ? 
                            'Proceed with implementation following the process guidelines below.' : 
                            'Initiate approval processes and complete all required documentation before proceeding.'
                        }</p>
                    </div>
                </div>

                ${changes.map((change, index) => `
                <div class="guidance-section">
                    <div class="guidance-header">
                        <span style="font-size: 1.5rem;">${change.icon}</span>
                        <h3>${change.type}</h3>
                        <span class="risk-indicator risk-${change.riskLevel.toLowerCase()}" style="margin-left: auto;">${change.riskLevel} Risk</span>
                    </div>
                    <div class="guidance-content">
                        <div class="guidance-tabs">
                            <button class="tab-button active" onclick="showTab('overview-${index}', this)">Overview</button>
                            <button class="tab-button" onclick="showTab('process-${index}', this)">Process</button>
                            <button class="tab-button" onclick="showTab('legal-${index}', this)">Legal</button>
                            <button class="tab-button" onclick="showTab('documentation-${index}', this)">Documentation</button>
                        </div>

                        <div id="overview-${index}" class="tab-content active">
                            <div style="margin-bottom: 20px;">
                                <strong>Can Proceed:</strong> ${change.guidance.canProceed ? 
                                    '<span style="color: #059669;">Yes</span>' : 
                                    '<span style="color: #dc2626;">No - Approvals Required</span>'
                                }
                            </div>
                            <div style="margin-bottom: 20px;">
                                <strong>Partners to Engage:</strong> ${change.guidance.partner}
                            </div>
                            <div style="margin-bottom: 20px;">
                                <strong>Primary Contact:</strong> ${change.guidance.contact}
                            </div>
                            <div style="margin-bottom: 20px;">
                                <strong>Expected SLA:</strong> ${change.guidance.slaDays} days
                            </div>
                            ${change.guidance.approvalsRequired.length > 0 ? `
                            <div style="margin-bottom: 20px;">
                                <strong>Required Approvals:</strong> ${change.guidance.approvalsRequired.join(', ')}
                            </div>
                            ` : ''}
                            <div>
                                <strong>Considerations:</strong> ${change.guidance.considerations}
                            </div>
                        </div>

                        <div id="process-${index}" class="tab-content">
                            <div class="process-timeline">
                                ${change.guidance.process.map(step => `
                                <div class="timeline-item">
                                    ${step}
                                </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="legal-${index}" class="tab-content">
                            <div class="alert-box alert-info">
                                <h4>Legal Considerations</h4>
                                <p>${change.guidance.legalConsiderations}</p>
                            </div>
                            
                            <h4 style="margin: 20px 0 15px 0;">Compliance Best Practices</h4>
                            <ul style="padding-left: 20px; line-height: 1.8;">
                                ${change.guidance.complianceBestPractices.map(practice => 
                                    `<li>${practice}</li>`
                                ).join('')}
                            </ul>
                        </div>

                        <div id="documentation-${index}" class="tab-content">
                            <h4 style="margin-bottom: 15px;">Required Documentation</h4>
                            <div class="documentation-grid">
                                ${change.guidance.documentationRequired.map(doc => `
                                <div class="doc-item">
                                    <div>${doc}</div>
                                </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
                `).join('')}

                <div class="alert-box alert-success">
                    <h3>‚úÖ Final Recommendations</h3>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Consult with legal counsel for all ${overallRisk.toLowerCase()}-risk changes</li>
                        <li>Maintain detailed documentation throughout the process</li>
                        <li>Ensure consistent application of policies across similar situations</li>
                        <li>Provide clear communication to all affected associates</li>
                        <li>Consider offering employee assistance and transition support</li>
                        ${associateCount >= 50 ? '<li><strong>Review WARN Act requirements for large-scale changes</strong></li>' : ''}
                    </ul>
                </div>
            `;
        }

        function showTab(tabId, button) {
            // Hide all tab contents in the same section
            const section = button.closest('.guidance-section');
            const tabContents = section.querySelectorAll('.tab-content');
            const tabButtons = section.querySelectorAll('.tab-button');
            
            tabContents.forEach(content => content.classList.remove('active'));
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab and mark button as active
            document.getElementById(tabId).classList.add('active');
            button.classList.add('active');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>